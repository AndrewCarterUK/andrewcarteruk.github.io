<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />

        <title>Drinking Beer With a Raspberry Pi - Andrew Carter</title>
        <meta name="description" content="How to drink beer in style with a Raspberry Pi" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" />

        <link rel="stylesheet" type="text/css" href="css/reveal.css" />
        <link rel="stylesheet" type="text/css" href="css/theme/sky.css" />
        <link rel="stylesheet" type="text/css" href="lib/css/googlecode.css" />

        <!--[if lt IE 9]>
            <script type="text/javascript" src="lib/js/html5shiv.js"></script>
        <![endif]-->

        <style type="text/css">
            .caption { display: block; font-size: 12pt !important; }
        </style>
    </head>
    <body>
        <div class="reveal">
            <div style="position: absolute; top: 1em; left: 1em; text-align: left; font-size: 0.5em;">
                Drinking Beer With a Raspberry Pi
            </div>
            <div style="position: absolute; top: 1em; right: 1em; text-align: right; font-size: 0.5em;">
                @AndrewCarterUK
            </div>
            <div class="slides">
                <section>
                    <img src="images/bgphp.png" alt="BGPHP 2016" style="border: none;" />
                </section>
                <section>
                    <h1 style="font-size: 1.5em;">
                        Developing Automated C<sub style="font-size: 0.5em;">2</sub>
                        H<sub style="font-size: 0.5em;">5</sub>OH
                        Delivery Mechanisms with Programmable Microcomputers
                        and an Interpretted ASCII Syntax
                    </h1>
                </section>
                <section><h1>Drinking Beer With a Raspberry Pi and PHP</h1></section>
                <section><h3>@AndrewCarterUK</h3></section>

                <section>
                    <h2>What is a Raspberry Pi?</h2>
                    <p class="fragment">A teeny tiny computer</p>
                </section>
                <section>
                    <img src="images/rpi3.jpg" alt="Raspberry Pi 3" />
                    <span class="caption">Image from <a href="http://www.techradar.com/">techradar.com</a>
                </section>
                <section>
                    <img src="images/pi0.jpg" alt="Raspberry Pi 3" />
                    <span class="caption">Image from <a href="https://www.thepolyglotdeveloper.com/">thepolyglotdeveloper.com</a></span>
                </section>
                <section>
                    <img src="images/raspberry-pi.png" alt="Raspberry Pi" />
                </section>
                <section>
                    <h3>What Operating System?</h3>
                    <p class="fragment">Raspbian</p>
                </section>
                <section>
                    <h3>Raspbian?</h3>
                    <p class="fragment">Based on Debian Linux</p>
                </section>
                <section>
                    <pre style="width: 22em; font-size: 110%;"><code class="bash" data-trim>
                        sudo apt-get install all-the-things
                    </code></pre>
                </section>

                <section>
                    <h2>Electronics</h2>
                    <p class="fragment">A water analogy</p>
                </section>
                <section>
                    <img src="images/water-analogy.jpg" alt="Water Analogy" /><br />
                    <span class="caption">Image from Olympia Circuits</span>
                </section>
                <section>
                    <h3>Digital Logic</h3>
                </section>
                <section>
                    <p><b>High</b> or <b>Low</b></p>
                    <p class="fragment"><b>On</b> or <b>Off</b></p>
                    <p class="fragment"><b>1</b> or <b>0</b></p>
                </section>

                <section>
                    <h2>GPIO</h2>
                    <p class="fragment">General Purpose Input Output</p>
                </section>
                <section>
                    <img src="images/raspberry-pi.png" alt="Raspberry Pi" />
                </section>
                <section>
                    <img src="images/gpio.png" alt="Raspberry Pi" />
                </section>
                <section>
                    <h3>Outputs</h3>
                    <p class="fragment">LEDs, Motors, LCDs, Valves</p>
                </section>
                <section>
                    <h3>Inputs</h3>
                    <p class="fragment">Meters, Sensors, Buttons</p>
                </section>
                <section>
                    <h3>Inputs and Outputs</h3>
                    <img src="images/gsm-shield.jpg" alt="GSM Shield" />
                    <span class="caption">Image from <a href="http://www.itead.cc/">itead.cc</a></span>
                </section>

                <section>
                    <h2>Arduino</h2>
                </section>
                <section>
                    <img src="images/arduino.jpg" alt="Arduino" />
                    <span class="caption">Image from <a href="http://www.arduino.cc/">arduino.cc</a></span>
                </section>
                <section>
                    <p>A Raspberry Pi works like a normal computer</p>
                    <p class="fragment">An Arduino is a microcontroller platform</a>
                </section>
                <section>
                    <img src="images/protection-rings.png" alt="protection rings" />
                </section>
                <section>
                    <p>Microcontrollers have more direct access to hardware</p>
                </section>
                <section>
                    <pre><code class="c" data-trim>
#define LED_PIN 13

void setup(void)
{
  pinMode(LED_PIN, OUTPUT);
}

void loop(void)
{
  digitalWrite(LED_PIN, HIGH);
  delay(500);
  digitalWrite(LED_PIN, LOW);
  delay(500);
}
                    </code></pre>
                </section>

                <section>
                    <h2>Top Tips</h2>
                </section>
                <section>
                    <h3>Create images of your SD cards</h3>
                    <p class="fragment">A cheap card off ebay isn&apos;t reliable long term storage</p>
                </section>
                <section>
                    <h3>Assign a static IP address</h3>
                    <pre class="fragment"><code class="bash" data-trim>
$ ssh pi@192.168.0.2
...
$ ssh pi@192.168.0.3
...
$ ssh pi@192.168.0.4
...
$ ssh pi@192.168.0.5
...
</code></pre>
                </section>
                <section>
                    <h3>Access Point Mode</h3>
                    <p class="fragment">Use <b>hostapd</b> to create private WiFi network</p>
                    <p class="fragment">Gives easy control without requiring monitor</p>
                    <p class="fragment">Useful travelling abroad</p>
                </section>
                <section>
                    <h3>Be careful what you plug where</h3>
                    <p class="fragment">Observe voltage and current requirements</p>
                </section>
                <section>
                    <p>5V and 3.3V are commonly used in digital electronics</p>
                    <p class="fragment">5V is not 3.3V</p>
                </section>
                <section>
                    <img src="images/mill.jpg" alt="" />
                </section>
                <section>
                    <img src="images/drowning.jpg" alt="" />
                </section>
                <section>
                    <p>Resistors reduce current flow</p>
                </section>
                <section>
                    <img src="images/led-circuit.png" alt="" />
                    <span class="caption">Image from <a href="http://learn.sparkfun.com/">learn.sparkfun.com</a></span>
                </section>
                <section>
                    <p>A red LED has a voltage drop of 1.8V</p>
                    <p class="fragment">Rasperry Pi pins use 3.3V</p>
                    <p class="fragment">That leaves 1.5V for the resistor</p>
                    <p class="fragment">Current rating of 20mA for LED</p>
                    <p class="fragment">Ohms Law: V = IR</p>
                    <p class="fragment">1.5V รท 0.02A = <b>75ฮฉ resistor</b></p>
                </section>

                <section>
                    <h2>PROGRAMMING TIME</h2>
                    <img src="images/minion.jpg" alt="" />
                </section>

                <section>
                    <h2>Serial</h2>
                </section>
                <section>
                    <p>USB, RS232, RS485, <b>UART</b></p>
                </section>
                <section>
                    <img style="border: 0px; width: 1000px;" src="images/uart.png" alt="serial" />
                    <span class="caption">Image from <a href="http://electricimp.com/">electricimp.com</a></span>
                </section>
                <section>
                    <h3>A volunteer please?</h3>
                </section>
                <section>
                    <img style="border: 0px; width: 1000px;" src="images/uart.png" alt="serial" />
                    <p style="font-family: monospace; font-size: 2em;">:)<br /><br />00111010 00101001<p>
                </section>
                <section>
                    <p>Internal clock required</p>
                    <p class="fragment">Must agree baud rate and protocol prior</p>
                </section>

                <section><h2>Raspberry Pi Theft Protection System</h2></section>

                <section>
                  <div class="stretch">
                    <img src="images/GPS.jpg" alt="" />
                  </div>
                </section>
                <section>
                  <div style="stretch">
                    <img src="images/theft-protection-system.png" alt="" style="border: 0px;" />
                  </div>
                </section>

                <section>
                  <h3>composer require piphp/gpio</h3>
                </section>
                <section>
                    <pre><code class="php" data-trim>
use PiPHP\GPIO\GPIO;
use PiPHP\GPIO\Pin\PinInterface;

// Create a GPIO object
$gpio = new GPIO();

// Retrieve pin 18 and configure it as an output pin
$pin = $gpio->getOutputPin(18);

// Set the value of the pin high (turn it on)
$pin->setValue(PinInterface::VALUE_HIGH);
                    </code></pre>
                </section>
                <section>
                    <pre><code class="php" data-trim>
use PiPHP\GPIO\GPIO;
use PiPHP\GPIO\Pin\InputPinInterface;

$gpio = new GPIO();

$pin = $gpio->getInputPin(18);
$pin->setEdge(InputPinInterface::EDGE_BOTH);

$interruptWatcher = $gpio->createWatcher();

$interruptWatcher->register($pin, function ($pin, $value) {
    echo 'Pin ' . $pin->getNumber() . ' changed to: ' . $value . PHP_EOL;
    return true;
});

while ($interruptWatcher->watch(5000));
                    </code></pre>
                </section>
                <section>
                    <h3>Interrupt Top Tip</h3>
                </section>
                <section>
                    <p>Keep them as light as possible</p>
                </section>
                <section>
                    <p>Record the event</p>
                    <p class="fragment">Exit</p>
                </section>

                <section>
                  <h2>Drinks Machine</h2>
                </section>
                <section>
                  <div class="stretch">
                    <img src="images/tip120-motor.png" alt="" />
                  </div>
                </section>
                <section>
                  <div class="stretch">
                    <img src="images/demo-board.jpg" alt="" />
                  </div>
                </section>
                <section>
                  <div class="stretch">
                    <img src="images/demo-pi.jpg" alt="" />
                  </div>
                </section>
                <section>
                  <div class="stretch">
                    <img src="images/demo-pumps.jpg" alt="" />
                  </div>
                </section>
                <section>
                  <div class="stretch">
                    <img src="images/demo-bomb.jpg" alt="" />
                  </div>
                </section>
                <section>
                  <div class="stretch">
                    <!--- <iframe width="100%" height="100%" src="images/demo-pour.mp4">
                    </iframe> --->
                    <iframe width="100%" height="100%" src="https://www.youtube.com/embed/0ghLu46e020" frameborder="0" allowfullscreen></iframe>
                  </div>
                </section>

                <section>
                    <p>Any questions?</p>
                    <br />
                    <p><b>@AndrewCarterUK</b></p>
                    <br />
                    <p><a href="https://joind.in/talk/2d4f7">https://joind.in/talk/2d4f7</a></p>
                    <br />
                    <p><a href="http://github.com/PiPHP">http://github.com/PiPHP</a></p>
                </section>
            </div>
        </div>

        <script type="text/javascript" src="lib/js/head.min.js"></script>
        <script type="text/javascript" src="js/reveal.js"></script>
        <script type="text/javascript">
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,
                transition: 'none',
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });
        </script>
    </body>
</html>
